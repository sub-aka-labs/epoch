"use strict";var e=require("react/jsx-runtime"),r=require("lucide-react"),t=require("react"),i=require("./context-BeSQM-Ma.js"),o=require("./internal-context-BJv4f_bO.js"),n=require("./get-is-unified-wallet-BwdzQwn_.js"),s=require("./ScreenLayout-BtVIYAso.js");require("@privy-io/js-sdk-core"),require("tinycolor2"),require("ofetch"),require("viem"),require("./ModalHeader-C5O9gNUP.js"),require("styled-components"),require("./useActiveWallet-vlXeDPzp.js"),require("zustand"),require("react-device-detect"),require("./prepareFundingModalData-DDf6xLze.js"),require("eventemitter3"),require("./events-context-Di6--rDg.js"),require("viem/utils"),require("./getPublicClient-BsmZyCGX.js"),require("./useWallets-DMyuB5aJ.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("./Screen-BSwlHqPg.js"),require("./index-ByFhjjzH.js");const c=({appName:t,success:i,error:o,onRevoke:n,onDeny:c,onClose:a})=>i||o?/*#__PURE__*/e.jsx(s.ScreenLayout,{title:o?"Something went wrong":"Success!",subtitle:o?"Please try again.":"You've successfully revoked permissions.",icon:o?r.AlertCircle:r.CheckCircle,iconVariant:o?"error":"success",onBack:a,watermark:!0}):/*#__PURE__*/e.jsx(s.ScreenLayout,{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:r.Ban,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:c},onBack:a,watermark:!0}),a={component:()=>{let{data:r}=n.usePrivyModal(),s=i.useAppConfig(),{closePrivyModal:a}=o.usePrivyInternal(),[u,l]=t.useState(!1),[q,d]=t.useState(),{onRevoke:y,onSuccess:v,onError:k}=r.delegatedActions.revoke,C=async()=>{u?v():k(q??new o.PrivyClientError("User declined revoking access to their delegated wallet.")),a({shouldCallAuthOnSuccess:!1})};return t.useEffect((()=>{if(!u&&!q)return;let e=setTimeout(C,i.DEFAULT_SUCCESS_SCREEN_LONG_DURATION_MS);return()=>clearTimeout(e)}),[u,q]),/*#__PURE__*/e.jsx(c,{appName:s.name,success:u,error:q,onRevoke:async()=>{try{await y(),l(!0)}catch(e){d(e)}},onDeny:()=>{C()},onClose:C})}};exports.DelegatedActionsRevokeScreen=a,exports.DelegatedActionsRevokeScreenView=c,exports.default=a;
