import t from"fetch-retry";import{MoonpayOnRampSign as r}from"@privy-io/routes";import{MoonpayApiError as a}from"../../Error.mjs";import{MoonpayEnvironments as o}from"../../funding/moonpay.mjs";import"@privy-io/chains";class i{async sign(t){return await this._privyInternal.fetch(r,{body:t})}async getTransactionStatus({transactionId:r,useSandbox:i}){let{url:n,key:s}=o[i?"sandbox":"prod"],e=await t(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${r}?apiKey=${s}`);if(!e.ok)throw new a({error:`Failed to fetch transaction status for Transaction ${r}`,code:"failed_to_fetch_moonpay_transaction_status",response:e});let c=await e.json();return Array.isArray(c)?c.at(0):void 0}constructor(t){this._privyInternal=t}}export{i as default};
