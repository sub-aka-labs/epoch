"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@privy-io/routes"),r=require("./CustomProviderApi.js"),t=require("./EmailApi.js"),s=require("./FarcasterApi.js"),i=require("./FarcasterV2Api.js"),a=require("./GuestApi.js"),l=require("./OAuthApi.js"),n=require("./PasskeyApi.js"),u=require("./PhoneApi.js"),d=require("./SiweApi.js"),o=require("./SiwsApi.js"),h=require("./SmartWalletApi.js");require("./maybeCreateWalletOnLogin.js"),require("../../utils/getUserEmbeddedEthereumWallet.js"),require("../../utils/getAllUserEmbeddedEthereumWallets.js"),require("../../utils/embedded-wallets.js"),require("../../utils/getUserEmbeddedSolanaWallet.js"),require("../../utils/getAllUserEmbeddedSolanaWallets.js"),require("../../utils/shouldCreateEmbeddedEthWallet.js"),require("../../utils/shouldCreateEmbeddedSolWallet.js"),require("../../Error.js"),require("../../pkce.js"),require("jose");exports.default=class{async logout(r){try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(e.Logout,{body:{refresh_token:r}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),r?.userId&&this._mfa.clearMfa({userId:r.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,p,y,j,q){this._privyInternal=e,this._mfa=q,this.customProvider=new r.default(this._privyInternal,p),this.phone=new u.default(this._privyInternal,p),this.email=new t.default(this._privyInternal,p),this.oauth=new l.default(this._privyInternal,p,y,j),this.guest=new a.default(this._privyInternal,p),this.siwe=new d.default(this._privyInternal,p),this.siws=new o.default(this._privyInternal,p),this.smartWallet=new h.default(this._privyInternal),this.passkey=new n.default(this._privyInternal,p),this.farcaster=new s.default(this._privyInternal,p),this.farcasterV2=new i.default(this._privyInternal,p)}};
